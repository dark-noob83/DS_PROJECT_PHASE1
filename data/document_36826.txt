I have a stored procedure that someone else created. The procedure exports data to a csv file. Previously the export table worked with no headings. Another program would take the table and import the data to a database. An update has created the need to now have column headings as the first row of info and I don't know how to do it
Let's create the same sample table in Oracle: Oracle : You can use UT_FILE package and a cursor to export data into a CSV file: You can also DBMS_. built-in package to export data to a CSV file. Now we can use the following procedure to export data to .csv file: PostgreSQL (Tested on PostgreSQL 9.0.4 for Windows): Now let's execute the function: When this function is executed if creates d:\cities.csv file with the following content (2 rows):
I have an Sql Stored Procedure and i want to export data to the .csv file from my Stored Procedure. Sorry, it is not possible to write data to disk using Stored Procedure. You can use SQL Server Export Import Wizard to generate the file and save it as a SSIS package for further use. Permalink. Posted 19-Feb-13 23:18pm. Khorshed Alam, Dhaka 2.6K. Comments. Christian Graus at 22-Jan-14 17:19pm. Nope, this is wrong.
How To Export Data To the .csv file using Sql server Stored Procedure. Sorry, it is not possible to write data to disk using Stored Procedure. You can use SQL Server Export Import Wizard to generate the file and save it as a SSIS package for further use. Permalink. Posted 19-Feb-13 23:18pm. Khorshed Alam, Dhaka 2.6K. Comments. Christian Graus at 22-Jan-14 17:19pm. Nope, this is wrong.
SQL Server can easily export to CSV file, but it exports just the data, without the column names included. In order to export the column names, you need to actually perform two exports-one with the column names, and one with the data-and then combine the two files into a single file. It populates. 
Hi lokesh1986, See the below example script, for storing results of a stored procedure into a table and then exporting it into a csv file: 1  Proposed as answer by Naomi NModerator Wednesday, April 21, 2010 1:26 PM. 2  Marked as answer by Tony Tang_YJ Tuesday, April 27, 2010 7:30 AM. There is no Straight forward Function available to do this from the Stored Procedure. You can create the CSV Files from the DTS or SSIS. Try converting your code in SSIS or DTS. Thanks.
Export to CSV from a Stored Procedure in Oracle. Let's create the same sample table in Oracle: Oracle : You can use UT_FILE package and a cursor to export data into a CSV file: You can also DBMS_. built-in package to export data to a CSV file. The DBMS_. Now we can use the following procedure to export data to .csv file: PostgreSQL (Tested on PostgreSQL 9.0.4 for Windows): Now let's execute the function: When this function is executed if creates d:\cities.csv file with the following content (2 rows):
Al Phaba. 992 5 18 33. In addition to the answers below, I would consider if you really want to generate the csv file from the procedure or not. The first problem is permissions: the SQL Server service account will need permission to write to an output folder, which may cause issues. 
In PostgreSQL, you can use a COPY command to export data to a .csv file from a stored procedure (function in terms of PostgreSQL). In Oracle, you can use UTL_FILE package and a cursor (or DBMS_. package) to write the data to a .csv file. Now we can use the following procedure to export data to .csv file: PostgreSQL (Tested on PostgreSQL 9.0.4 for Windows): Now let's execute the function: When this function is executed if creates d:\cities.csv file with the following content (2 rows):