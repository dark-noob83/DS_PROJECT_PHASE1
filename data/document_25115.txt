The capture kernel runs on the same host. It runs in memory that the panic'd kernel reserved for the capture kernel to use. The capture kernel is started with the kexec mechanism by the panicing kernel. /proc/vmcore should be provided by the kernel if its setup to export a memory image. If your kernel does not have a /proc/vmcore, then you're missing the right kernel infrastructure. Inside the capture kernel, /proc/vmcore presents the crashed kernel as an ELF core image. Here's some RH doc with more details: https://access.redhat.com/knowledge/solutions/6038.
Kdump is the Linux kernel crash-dump mechanism. Oracle recommends that you enable the Kdump feature. In the event of a system crash, Kdump creates a memory image (vmcore) that can help in determining the cause of the crash. Enabling Kdump requires you to reserve a portion of system memory for exclusive use by Kdump. This memory is unavailable for other uses.
However, it needs /proc/vmcore which is the memory image of the currently running kernel. Also, reading the man page of makedumpfile, we also need 2 kernels: panicked kernel (crashed kernel) and capture kernel. Inside the capture kernel, /proc/vmcore presents the crashed kernel as an ELF core image. Here's some RH doc with more details: https://access.redhat.com/knowledge/solutions/6038.
The linux kernel source implies that /proc/vmcore is only populated inside a capture kernel (the kernel command line providing the address of the panic'd kernels vmcore ELF header is required), so /proc/vmcore will exist in a regular kernel, but won't contain anything at all. Inside the capture kernel, /proc/vmcore presents the crashed kernel as an ELF core image. Here's some RH doc with more details: https://access.redhat.com/knowledge/solutions/6038.
Kernel and kdump. Kdump is a kernel crash dumping mechanism and is very reliable because the crash dump is captured from the context of a freshly booted kernel and not from the context of the crashed kernel. Kdump uses kexec to boot into a second kernel whenever system crashes. Kexec enables booting the capture kernel without going through the BIOS, so contents of the first kernel's memory are preserved, which is essentially the kernel crash dump. 1  First, install the kexec-tools, crash and kernel-debuginfo packages. 2  Use following command line to install the packages.
A. Kdump is a kexec based crash dumping mechansim for Linux. Kdump functionality is broken mainly in two components, user space and kernel space. Kdump support included in all modern Linux distro such as Suse, RHEL, CentOS and Debian. By default, kdump dumps its vmcore files in /var/crash directory.