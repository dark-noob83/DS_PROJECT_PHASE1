If gettext does not work with your locale, ie 'zh_CN', just going to see if the output of command localedef --list-archive contains your locale('zh_CN' in this example).If it not, try to use a exist locale or use localedef to create one: localedef-f GBK-i zh_CN zh_CN in my case. A gettext() call in the middle of the loops can test for success (a string being translated).Of 4374 localization setup variations tested there were 0 successes.Sometimes one just has to fix the system and PHP configuration.
I was facing the same problem. I'll describe the things I did to fix it on Ubuntu 10.10. 1) make sure you have 'gettext' installed, Alternatively, you can install 'php-gettext' if 'gettext' cannot be installed. The package 'php-gettext' is not required if you already have 'gettext' installed. 2) Then generate the locale for your language. I get the translated string echoed back. But on Ubuntu with lighttpd I get the original text 'Inactive account'. I've tried all sorts of combinations of environment varialbes without any luck. It's not file permissions either because I can echo out the contents of the .mo file.
If setlocale() is set to either es_ES or es_MX gettext() will still get the text from a po file in the 'es' folder.It probably is not a good idea to go changing a systems alias file(s) just to avoid the verbosity of the ISO standard because: a) you might break something b) your code just lost it's portability. A gettext() call in the middle of the loops can test for success (a string being translated).Of 4374 localization setup variations tested there were 0 successes.Sometimes one just has to fix the system and PHP configuration.
PHP Gettext on Ubuntu. Leave a reply. Gettext, is a set of GNU tools to help packages manage multi-lingual messages in their applications. The Gettext PHP extension translates a natural language message into the user’s language, by looking up the translation in a message catalog. This post will provide a tutorial on how to install the gettext extension and a working example under Ubuntu. Preparing the environment. We are going to consider that PHP and Apache are already installed. 1  Install the PHP Gettext extension. 2  Restart the Apache server: 3  Install PoEdit. 4  PoEdit is a tool needed for creating and maintaining the language catalogues. Listing the installed locales: which will produce something like: Is important to use the locale in the php script exactly as listed, for example if we need en US, then based on the above output, we are going to use in the php script: “en_US.utf8”. Open PoEdit and create the messages catalogue bye choosing.
Users running a Linux with a recent version of libc will have gettext in libc already.Here's an example for those of you running Ubuntu Edgy.First of all, have a look in /usr/share/i18n/SUPPORTED, here are the locales that are supported on your system. To compile a locale we will use the command locale-gen. A gettext() call in the middle of the loops can test for success (a string being translated).Of 4374 localization setup variations tested there were 0 successes.Sometimes one just has to fix the system and PHP configuration.
Your system will *only* support the locales installed on your OS, in the *exact* format given by your OS. (See also the PHP setlocale man page.) To get a list of them, enter locale-a, which will give you something like this:Cen_US.utf8ja_JP.utf8POSIXSo this machine only has English and Japanese! To add eg. 0. 1 year ago. Please also be noticed that the server will cache the .mo file on first loading and then seldom reload it, so your update to .mo file will not be revealed. Some solution to clear the cache from web is to restart the apache server, or to use another name for the textdomain everytime. These are tedious