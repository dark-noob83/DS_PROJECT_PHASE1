For insoluble fiber, try whole wheat and wheat bran, nuts, seeds, and raw vegetables. Beans and peas contain significant amounts of both soluble and insoluble fiber. The bottom line: soluble fiber is good for both diarrhea and constipation. Foods high in insoluble fiber are best for constipation only.
Insoluble fiber does not. Foods high in soluble fiber, like white bread, white rice, and so forth, will help with constipation OR diarrhea. Foods high in insoluble fiber, like vegetables and whole grains, will help with constipation but they will make diarrhea worse. They may also cause gas. Fiber can be divided into soluble and insoluble fiber. Insoluble fiber is in vegetables, beans, and whole grains. Soluble fiber is in white rice, white flour, potatoes (without the skin) Soluble fiber absorbs water and swells up.
Soluble Fiber Foods ~ the IBS Good Foods of the IBS Diet. As a general rule, the grain and cereal foods at the top of this list make the safest, easiest, and most versatile soluble fiber foundations for your meals and snacks These are your IBS safe foods, and your IBS good foods. [1]. 
Types of Fiber: Insoluble and Soluble Fiber. Fiber is the indigestible part of carbohydrates found mostly in plants. Recent research reveals that there are many forms of fiber, each with a unique effect on nutrition and health. Two important categories are soluble and insoluble fiber. Soluble fiber partly dissolves in water, creating a gel-like substance that helps lower cholesterol. Sources of soluble fiber include oats, barley, rye, dried beans, oranges, and apples. Insoluble fiber remains more intact as it passes through the digestive system. That makes insoluble fiber especially helpful in preventing or easing constipation. 
Oatmeal, potatoes, bananas and soft, skinless fruits are rich in soluble fiber and may help with diarrhea. Sweet potatoes are an especially good soluble-fiber source, containing 2 grams per half-cup of flesh. Oatmeal is high in soluble fiber and easy on your stomach. Photo Credit Jupiterimages/Creatas/Getty Images. If you're struggling with a bout of mild-to-moderate diarrhea, adding fiber to your diet might help. Look for foods high in soluble fiber, which absorbs water in the digestive tract.
Inulin, which is the active fiber ingredient in FiberChoice, exists naturally in foods like bananas, asparagus and rye. You should normally take two tablets per day during a diarrhea phase; this equates to 4 mg of fiber. According to gastroenterologist Dr. Paul McNeely, fiber can't work miracles, but if you have loose stool, a lot of excess liquid in the stool, the fiber in your colon will absorb and firm up the stool--which helps the diarrhea..
It doesn’t absorb liquid or become sticky. That’s insoluble fiber. For both diarrhea and constipation, you want to get more soluble fiber, such as oats, bran, and barley. For constipation only, you can add in some insoluble fiber as well—fruits and vegetables are good sources. Beans and peas contain significant amounts of both soluble and insoluble fiber. The bottom line: soluble fiber is good for both diarrhea and constipation. Foods high in insoluble fiber are best for constipation only.